# 🔍 LaTeX 错误检查功能

## 功能概述

错误检查功能会自动检测 LaTeX 代码中的常见问题，并提供修复建议。

## ✨ 检查项目

### 1. **括号匹配检查** 🔴
检测以下括号是否配对：
- `{}` - 花括号
- `[]` - 方括号  
- `()` - 圆括号

**示例问题：**
```latex
\frac{1{2}  % ❌ 花括号不匹配
```

### 2. **环境匹配检查** 🔴
验证 LaTeX 环境的正确使用：
- `\begin{}` 和 `\end{}` 数量匹配
- 常见环境：`equation`, `align`, `array`, `matrix`

**示例问题：**
```latex
\begin{equation}
x = 1
% ❌ 缺少 \end{equation}
```

### 3. **数学模式符号检查** 🟡
确保 `$` 符号正确配对：
- 单 `$` 用于行内数学
- 双 `$$` 用于独立公式

**示例问题：**
```latex
$x = 1  % ❌ $ 不匹配
```

### 4. **换行符检查** 🟡
验证 `\\` 使用是否正确：

**示例问题：**
```latex
\\text  % ❌ \\ 后不应直接跟文字
```

### 5. **中文混用检查** 🟠
检测数学模式中混入的中文字符：

**示例问题：**
```latex
$这是公式 = 1$  % ⚠️ 中文在数学模式中
```

## 🎯 使用方式

1. **输入或处理 LaTeX 代码**后，错误检查面板会自动显示
2. **黄色警告栏**会出现在输出框下方
3. **查看每条错误**：
   - 🔴 红点 = 严重错误，会导致编译失败
   - 🟡 黄点 = 警告，可能导致问题
   - 🟠 橙点 = 提示，建议修改

## 📋 错误面板说明

### 面板结构
```
┌─────────────────────────────────────┐
│ ⚠️ 检测到问题                    ✕  │  ← 标题栏
├─────────────────────────────────────┤
│ 🔴 花括号不匹配                     │
│    左括号：5 个，右括号：4 个       │
│    💡 建议：请检查花括号的数量...  │
├─────────────────────────────────────┤
│ 🟡 数学模式符号不匹配              │
│    未配对的 $ 符号：3 个           │
│    💡 建议：检查是否有未闭合...    │
└─────────────────────────────────────┘
```

## 🔧 常见问题修复

### 问题 1：花括号不匹配
**原因：** 通常是忘记了某个命令的参数
```latex
% ❌ 错误
\frac{1}{2} + \sqrt{4  

% ✅ 正确
\frac{1}{2} + \sqrt{4}
```

### 问题 2：环境不闭合
**原因：** 忘记了 `\end{}`
```latex
% ❌ 错误
\begin{equation}
x = y

% ✅ 正确
\begin{equation}
x = y
\end{equation}
```

### 问题 3：$ 符号不匹配
**原因：** 奇数个 `$` 符号
```latex
% ❌ 错误
设 $x = 1 为一个变量

% ✅ 正确
设 $x = 1$ 为一个变量
```

### 问题 4：中文在数学模式
**原因：** 中文不能直接在 `$ $` 中
```latex
% ❌ 错误
$半径 r = 2$

% ✅ 正确
\text{半径} $r = 2$
或
半径 $r = 2$
```

## 💡 最佳实践

1. **定期检查** - 处理完代码后查看错误面板
2. **从上到下修复** - 先修复严重错误（🔴）
3. **使用建议** - 参考每条错误的"建议"部分
4. **验证修复** - 修改后错误应自动消失

## 📝 快捷键

- **查看错误** - 自动显示在输出框下方
- **关闭面板** - 点击 ✕ 按钮或再次处理文本

## 🚀 后续改进计划

- [ ] 自动修复简单错误
- [ ] 更多 LaTeX 命令检查
- [ ] 性能优化提示（如公式过长）
- [ ] 导出错误报告

---

有问题？建议？欢迎反馈！
